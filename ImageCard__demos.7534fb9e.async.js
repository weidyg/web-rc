"use strict";(self.webpackChunkweb_react=self.webpackChunkweb_react||[]).push([[833],{91130:function(fe,j,e){e.r(j);var G=e(26068),r=e.n(G),H=e(90228),S=e.n(H),V=e(87999),$=e.n(V),J=e(48305),c=e.n(J),d=e(75271),D=e(84460),E=e(48481),N=e(72861),Q=e(76761),C=e(43658),X=e(81737),T=e(5933),Y=e(26493),q=e(81630),n=e(52676),ee=Array.from({length:10},function(O,o){return{value:"".concat(o),label:o==0?"\u5168\u90E8\u56FE\u7247":"\u76EE\u5F55".concat(o),children:o/3==0?[{value:"sub".concat(o),label:"\u5B50\u76EE\u5F55".concat(o),children:[]}]:[]}}),g=Array.from({length:100},function(O,o){return{id:o,name:"\u56FE\u7247".concat(o),size:8e3,pixel:"220*220",fullUrl:"https://picsum.photos/id/".concat(o,"/220/220")}});j.default=function(){var O=(0,d.useState)(),o=c()(O,2),P=o[0],m=o[1],ne=(0,d.useState)("mini"),A=c()(ne,2),b=A[0],te=A[1],ae=(0,d.useState)({type:"picture",value:"",order:"timeDes"}),U=c()(ae,2),h=U[0],M=U[1],x="0",le=(0,d.useState)(!1),I=c()(le,2),L=I[0],K=I[1],_e=(0,d.useState)(),B=c()(_e,2),y=B[0],oe=B[1],re=(0,d.useState)(!1),W=c()(re,2),R=W[0],w=W[1],ue=(0,d.useState)(!1),F=c()(ue,2),Z=F[0],v=F[1],f=(0,d.useRef)(null);(0,d.useEffect)(function(){R&&y==null&&se()},[R]);var z=function(){var _;f==null||(_=f.current)===null||_===void 0||_.refresh()},p=function(_){w(_),setTimeout(function(){var u;v(!1),f==null||(u=f.current)===null||u===void 0||u.clearSelected()},500)},se=function(){var s=$()(S()().mark(function _(){return S()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:K(!0),setTimeout(function(){oe(ee),K(!1)},1e3);case 2:case"end":return t.stop()}},_)}));return function(){return s.apply(this,arguments)}}(),ie=[{key:"1",label:"\u66FF\u6362",onClick:function(){w(!0)}},{key:"2",label:"\u5220\u9664",onClick:function(){m(void 0)}},{key:"3",label:"\u88C1\u526A",onClick:function(){}}];return(0,n.jsxs)("div",{style:{margin:20},children:[(0,n.jsx)(E.ZP,{onClick:function(){m(g[0].fullUrl)},children:"\u91CD\u7F6E"}),(0,n.jsx)(N.Z,{options:["mini","1_1","3_4"],onChange:function(_){te(_)}}),(0,n.jsx)(D.ImageCard,{menus:ie,value:P,onChange:function(_){m(_)},placeholder:b=="mini"?void 0:"\u4E0A\u4F20\u56FE\u7247",style:b=="1_1"?{width:90,height:90}:b=="3_4"?{width:90,height:120}:void 0,children:function(_){return(0,n.jsx)(Q.Z,{title:"\u9009\u62E9\u56FE\u7247",trigger:"click",arrow:!1,content:(0,n.jsxs)("div",{style:{width:"760px",height:"400px"},children:[(0,n.jsx)(D.ImageSpace,{ref:f,style:{display:Z?"none":""},actionsRender:function(t){return(0,n.jsxs)(C.Z,{gap:4,style:{width:"100%"},wrap:!0,children:[t,(0,n.jsxs)(X.Z.Compact,{children:[(0,n.jsx)(T.default,{style:{width:"100px"},popupMatchSelectWidth:!1,value:h.type,options:[{label:"\u56FE\u7247",value:"picture"},{label:"\u540D\u79F0",value:"name"},{label:"\u5B9D\u8D1DID",value:"id"}],onChange:function(a){M(function(i){return r()(r()({},i),{},{type:a})})}}),(0,n.jsx)(Y.Z,{allowClear:!0,style:{width:"120px"},suffix:(0,n.jsx)(q.Z,{}),placeholder:"\u641C\u7D22",value:h.value,onChange:function(a){M(function(i){return r()(r()({},i),{},{value:a.target.value})})},onKeyDown:function(a){a.key==="Enter"&&z()}})]}),",",(0,n.jsx)(T.default,{options:[{label:"\u6587\u4EF6\u540D\u5347\u5E8F",value:"nameAsc"},{label:"\u6587\u4EF6\u540D\u964D\u5E8F",value:"nameDes"},{label:"\u4E0A\u4F20\u65F6\u95F4\u5347\u5E8F",value:"timeAsc"},{label:"\u4E0A\u4F20\u65F6\u95F4\u964D\u5E8F",value:"timeDes"}],value:h.order,onChange:function(a){M(function(i){return r()(r()({},i),{},{order:a})}),setTimeout(function(){z()},500)},style:{width:"128px"}}),(0,n.jsx)(C.Z,{gap:4,flex:1,justify:"flex-end",children:(0,n.jsx)(E.ZP,{onClick:function(){v(!0)},children:"\u4E0A\u4F20"})})]})},folderLoading:L,defaultFolder:x,folders:y||[],fetchData:function(t){var l=r()(r()({},t),h),a=l.page,i=l.size;return new Promise(function(de,me){setTimeout(function(){var ce=g.slice((a-1)*i,a*i).map(function(k){return r()(r()({},k),{},{id:k.id+"_"+a})});de({items:ce,total:g.length})},1e3)})},mutiple:!1,onChange:function(t){var l=t.files;if((l==null?void 0:l.length)>0){var a;p(!1),m((a=l[0])===null||a===void 0?void 0:a.fullUrl)}}}),(0,n.jsx)(D.ImageUploader,{style:{display:Z?"":"none"},configRender:function(t){return(0,n.jsxs)(C.Z,{style:{width:"100%"},align:"center",justify:"space-between",children:[t,(0,n.jsx)(E.ZP,{onClick:function(){v(!1)},children:"\u53D6\u6D88\u4E0A\u4F20"})]})},folderLoading:L,defaultFolder:x,folders:y,upload:{action:"/",normalize:{uploadResponse:function(t){var l=t.Error,a=t.Result||{},i=r()(r()({},a),{},{error:l});return i}}},onUploaDone:function(){setTimeout(function(){v(!1)},1e3)}})]}),open:R,destroyTooltipOnHide:!1,onOpenChange:function(t,l){(!P||P&&!t)&&(p==null||p(t))},children:_})}})]})}}}]);
