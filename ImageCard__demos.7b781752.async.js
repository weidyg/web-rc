"use strict";(self.webpackChunkweb_rc=self.webpackChunkweb_rc||[]).push([[833],{77835:function(ve,b,e){e.r(b);var $=e(26068),o=e.n($),G=e(90228),R=e.n(G),H=e(87999),V=e.n(H),J=e(48305),d=e.n(J),u=e(75271),D=e(23664),N=e(8972),Q=e(85589),X=e(4010),h=e(27645),Y=e(29912),y=e(20600),k=e(29486),S=e(62e3),q=e(81630),E=e(58254),n=e(52676);b.default=function(){var ee=(0,u.useState)(),T=d()(ee,2),p=T[0],C=T[1],ne=(0,u.useState)("mini"),j=d()(ne,2),O=j[0],te=j[1],ae=(0,u.useState)({type:"picture",value:"",order:"timeDes"}),I=d()(ae,2),f=I[0],P=I[1],A="0",_e=(0,u.useState)(!1),U=d()(_e,2),L=U[0],x=U[1],le=(0,u.useState)(),K=d()(le,2),g=K[0],oe=K[1],se=(0,u.useState)(!1),B=d()(se,2),M=B[0],W=B[1],re=(0,u.useState)(!1),w=d()(re,2),Z=w[0],m=w[1],c=(0,u.useRef)(null);(0,u.useEffect)(function(){M&&g==null&&ue()},[M]);var F=function(){var l;c==null||(l=c.current)===null||l===void 0||l.refresh()},v=function(l){W(l),setTimeout(function(){var s;m(!1),c==null||(s=c.current)===null||s===void 0||s.clearSelected()},500)},ue=function(){var i=V()(R()().mark(function l(){return R()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:x(!0),setTimeout(function(){oe(E.dirs),x(!1)},1e3);case 2:case"end":return t.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),ie=[{key:"1",label:"\u66FF\u6362",onClick:function(){W(!0)}},{key:"2",label:"\u5220\u9664",onClick:function(){C(void 0)}},{key:"3",label:"\u88C1\u526A",onClick:function(){}}],de=N.Z.Item.useStatus(),ce=de.status;return(0,n.jsxs)("div",{style:{margin:20},children:[(0,n.jsx)(Q.Z,{options:["mini","1_1","3_4"],onChange:function(l){te(l)},style:{marginBottom:8}}),(0,n.jsx)(D.ImageCard,{status:ce,menus:ie,value:p,onChange:function(l){C(l)},placeholder:O=="mini"?void 0:"\u4E0A\u4F20\u56FE\u7247",style:O=="1_1"?{width:90,height:90}:O=="3_4"?{width:90,height:120}:void 0,children:function(l){return(0,n.jsx)(X.Z,{title:"\u9009\u62E9\u56FE\u7247",trigger:"click",arrow:!1,content:(0,n.jsxs)("div",{style:{width:"760px",height:"400px"},children:[(0,n.jsx)(D.ImageSpace,{ref:c,style:{display:Z?"none":""},actionsRender:function(t){return(0,n.jsxs)(h.Z,{gap:4,style:{width:"100%"},wrap:!0,children:[t,(0,n.jsxs)(Y.Z.Compact,{children:[(0,n.jsx)(y.default,{style:{width:"100px"},popupMatchSelectWidth:!1,value:f.type,options:[{label:"\u56FE\u7247",value:"picture"},{label:"\u540D\u79F0",value:"name"},{label:"\u5B9D\u8D1DID",value:"id"}],onChange:function(a){P(function(r){return o()(o()({},r),{},{type:a})})}}),(0,n.jsx)(k.Z,{allowClear:!0,style:{width:"120px"},suffix:(0,n.jsx)(q.Z,{}),placeholder:"\u641C\u7D22",value:f.value,onChange:function(a){P(function(r){return o()(o()({},r),{},{value:a.target.value})})},onKeyDown:function(a){a.key==="Enter"&&F()}})]}),",",(0,n.jsx)(y.default,{options:[{label:"\u6587\u4EF6\u540D\u5347\u5E8F",value:"nameAsc"},{label:"\u6587\u4EF6\u540D\u964D\u5E8F",value:"nameDes"},{label:"\u4E0A\u4F20\u65F6\u95F4\u5347\u5E8F",value:"timeAsc"},{label:"\u4E0A\u4F20\u65F6\u95F4\u964D\u5E8F",value:"timeDes"}],value:f.order,onChange:function(a){P(function(r){return o()(o()({},r),{},{order:a})}),setTimeout(function(){F()},500)},style:{width:"128px"}}),(0,n.jsx)(h.Z,{gap:4,flex:1,justify:"flex-end",children:(0,n.jsx)(S.ZP,{onClick:function(){m(!0)},children:"\u4E0A\u4F20"})})]})},folderLoading:L,defaultFolder:A,folders:g||[],fetchData:function(t){var _=o()(o()({},t),f),a=_.page,r=_.size;return new Promise(function(fe,De){setTimeout(function(){var me=E.files.slice((a-1)*r,a*r).map(function(z){return o()(o()({},z),{},{id:z.id+"_"+a})});fe({items:me,total:E.files.length})},1e3)})},mutiple:!1,onChange:function(t){var _=t.files;if((_==null?void 0:_.length)>0){var a;v(!1),C((a=_[0])===null||a===void 0?void 0:a.fullUrl)}}}),(0,n.jsx)(D.ImageUploader,{style:{display:Z?"":"none"},configRender:function(t){return(0,n.jsxs)(h.Z,{style:{width:"100%"},align:"center",justify:"space-between",children:[t,(0,n.jsx)(S.ZP,{onClick:function(){m(!1)},children:"\u53D6\u6D88\u4E0A\u4F20"})]})},folderLoading:L,defaultFolder:A,folders:g,upload:{action:"/",normalize:{uploadResponse:function(t){var _=t.Error,a=t.Result||{},r=o()(o()({},a),{},{error:_});return r}}},onUploaDone:function(){setTimeout(function(){m(!1)},1e3)}})]}),open:M,destroyTooltipOnHide:!1,onOpenChange:function(t,_){(!p||p&&!t)&&(v==null||v(t))},children:l})}})]})}}}]);
