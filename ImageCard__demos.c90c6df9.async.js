"use strict";(self.webpackChunkweb_react=self.webpackChunkweb_react||[]).push([[833],{91130:function(ce,R,e){e.r(R);var k=e(26068),o=e.n(k),G=e(90228),j=e.n(G),H=e(87999),N=e.n(H),Q=e(48305),d=e.n(Q),i=e(75271),v=e(42651),D=e(48481),V=e(72861),Y=e(76761),E=e(43658),$=e(81737),y=e(5933),J=e(26493),C=e(45601),X=e(81630),n=e(52676);R.default=function(){var q=(0,i.useState)(),T=d()(q,2),P=T[0],f=T[1],ee=(0,i.useState)("mini"),S=d()(ee,2),g=S[0],ne=S[1],te=(0,i.useState)({type:"picture",value:"",order:"timeDes"}),I=d()(te,2),m=I[0],O=I[1],x="0",ae=(0,i.useState)(!1),U=d()(ae,2),A=U[0],L=U[1],_e=(0,i.useState)(),K=d()(_e,2),b=K[0],le=K[1],oe=(0,i.useState)(!1),W=d()(oe,2),M=W[0],B=W[1],se=(0,i.useState)(!1),w=d()(se,2),Z=w[0],h=w[1],c=(0,i.useRef)(null);(0,i.useEffect)(function(){M&&b==null&&re()},[M]);var F=function(){var l;c==null||(l=c.current)===null||l===void 0||l.refresh()},p=function(l){B(l),setTimeout(function(){var s;h(!1),c==null||(s=c.current)===null||s===void 0||s.clearSelected()},500)},re=function(){var r=N()(j()().mark(function l(){return j()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:L(!0),setTimeout(function(){le(C.dirs),L(!1)},1e3);case 2:case"end":return t.stop()}},l)}));return function(){return r.apply(this,arguments)}}(),ue=[{key:"1",label:"\u66FF\u6362",onClick:function(){B(!0)}},{key:"2",label:"\u5220\u9664",onClick:function(){f(void 0)}},{key:"3",label:"\u88C1\u526A",onClick:function(){}}];return(0,n.jsxs)("div",{style:{margin:20},children:[(0,n.jsx)(D.ZP,{onClick:function(){f("https://img.alicdn.com/imgextra/i3/1035339340/O1CN01e6wCqc2IrmErsQuYd_!!1035339340.jpg_320x320q80_.webp")},children:"\u91CD\u7F6E"}),(0,n.jsx)(V.Z,{options:["mini","1_1","3_4"],onChange:function(l){ne(l)}}),(0,n.jsx)(v.ImageCard,{menus:ue,value:P,onChange:function(l){f(l)},placeholder:g=="mini"?void 0:"\u4E0A\u4F20\u56FE\u7247",style:g=="1_1"?{width:90,height:90}:g=="3_4"?{width:90,height:120}:void 0,children:function(l){return(0,n.jsx)(Y.Z,{title:"\u9009\u62E9\u56FE\u7247",trigger:"click",arrow:!1,content:(0,n.jsxs)("div",{style:{width:"760px",height:"400px"},children:[(0,n.jsx)(v.ImageSpace,{ref:c,style:{display:Z?"none":""},actionsRender:function(t){return(0,n.jsxs)(E.Z,{gap:4,style:{width:"100%"},wrap:!0,children:[t,(0,n.jsxs)($.Z.Compact,{children:[(0,n.jsx)(y.default,{style:{width:"100px"},popupMatchSelectWidth:!1,value:m.type,options:[{label:"\u56FE\u7247",value:"picture"},{label:"\u540D\u79F0",value:"name"},{label:"\u5B9D\u8D1DID",value:"id"}],onChange:function(a){O(function(u){return o()(o()({},u),{},{type:a})})}}),(0,n.jsx)(J.Z,{allowClear:!0,style:{width:"120px"},suffix:(0,n.jsx)(X.Z,{}),placeholder:"\u641C\u7D22",value:m.value,onChange:function(a){O(function(u){return o()(o()({},u),{},{value:a.target.value})})},onKeyDown:function(a){a.key==="Enter"&&F()}})]}),",",(0,n.jsx)(y.default,{options:[{label:"\u6587\u4EF6\u540D\u5347\u5E8F",value:"nameAsc"},{label:"\u6587\u4EF6\u540D\u964D\u5E8F",value:"nameDes"},{label:"\u4E0A\u4F20\u65F6\u95F4\u5347\u5E8F",value:"timeAsc"},{label:"\u4E0A\u4F20\u65F6\u95F4\u964D\u5E8F",value:"timeDes"}],value:m.order,onChange:function(a){O(function(u){return o()(o()({},u),{},{order:a})}),setTimeout(function(){F()},500)},style:{width:"128px"}}),(0,n.jsx)(E.Z,{gap:4,flex:1,justify:"flex-end",children:(0,n.jsx)(D.ZP,{onClick:function(){h(!0)},children:"\u4E0A\u4F20"})})]})},folderLoading:A,defaultFolder:x,folders:b||[],fetchData:function(t){var _=o()(o()({},t),m),a=_.page,u=_.size;return new Promise(function(ie,fe){setTimeout(function(){var de=C.files.slice((a-1)*u,a*u).map(function(z){return o()(o()({},z),{},{id:z.id+"_"+a})});ie({items:de,total:C.files.length})},1e3)})},mutiple:!1,onChange:function(t){var _=t.files;if((_==null?void 0:_.length)>0){var a;p(!1),f((a=_[0])===null||a===void 0?void 0:a.fullUrl)}}}),(0,n.jsx)(v.ImageUploader,{style:{display:Z?"":"none"},configRender:function(t){return(0,n.jsxs)(E.Z,{style:{width:"100%"},align:"center",justify:"space-between",children:[t,(0,n.jsx)(D.ZP,{onClick:function(){h(!1)},children:"\u53D6\u6D88\u4E0A\u4F20"})]})},folderLoading:A,defaultFolder:x,folders:b,upload:{action:"http://localhost:49007/api/services/app/ProductPublish/UploadImages",normalize:{uploadResponse:function(t){var _=t.Error,a=t.Result||{},u=o()(o()({},a),{},{error:_});return u}}},onUploaDone:function(){setTimeout(function(){h(!1)},1e3)}})]}),open:M,destroyTooltipOnHide:!1,onOpenChange:function(t,_){(!P||P&&!t)&&(p==null||p(t))},children:l})}})]})}}}]);
