"use strict";(self.webpackChunkweb_react=self.webpackChunkweb_react||[]).push([[833],{91130:function(fe,R,e){e.r(R);var G=e(26068),r=e.n(G),H=e(90228),j=e.n(H),N=e(87999),Q=e.n(N),V=e(48305),c=e.n(V),d=e(75271),E=e(84460),D=e(48481),Y=e(72861),$=e(76761),C=e(43658),J=e(81737),S=e(5933),X=e(26493),q=e(81630),n=e(52676),ee=Array.from({length:10},function(g,o){return{value:"".concat(o),label:o==0?"\u5168\u90E8\u56FE\u7247":"\u76EE\u5F55".concat(o),children:o/3==0?[{value:"sub".concat(o),label:"\u5B50\u76EE\u5F55".concat(o),children:[]}]:[]}}),T=Array.from({length:100},function(g,o){return{id:o,name:"\u56FE\u7247".concat(o),size:8e3,pixel:"220*220",fullUrl:"https://picsum.photos/id/".concat(o,"/220/220")}});R.default=function(){var g=(0,d.useState)(),o=c()(g,2),P=o[0],m=o[1],ne=(0,d.useState)("mini"),x=c()(ne,2),O=x[0],te=x[1],ae=(0,d.useState)({type:"picture",value:"",order:"timeDes"}),A=c()(ae,2),h=A[0],b=A[1],I="0",le=(0,d.useState)(!1),U=c()(le,2),L=U[0],K=U[1],_e=(0,d.useState)(),B=c()(_e,2),M=B[0],oe=B[1],re=(0,d.useState)(!1),W=c()(re,2),y=W[0],w=W[1],ue=(0,d.useState)(!1),F=c()(ue,2),Z=F[0],p=F[1],f=(0,d.useRef)(null);(0,d.useEffect)(function(){y&&M==null&&se()},[y]);var z=function(){var _;f==null||(_=f.current)===null||_===void 0||_.refresh()},v=function(_){w(_),setTimeout(function(){var u;p(!1),f==null||(u=f.current)===null||u===void 0||u.clearSelected()},500)},se=function(){var s=Q()(j()().mark(function _(){return j()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:K(!0),setTimeout(function(){oe(ee),K(!1)},1e3);case 2:case"end":return t.stop()}},_)}));return function(){return s.apply(this,arguments)}}(),ie=[{key:"1",label:"\u66FF\u6362",onClick:function(){w(!0)}},{key:"2",label:"\u5220\u9664",onClick:function(){m(void 0)}},{key:"3",label:"\u88C1\u526A",onClick:function(){}}];return(0,n.jsxs)("div",{style:{margin:20},children:[(0,n.jsx)(D.ZP,{onClick:function(){m("https://img.alicdn.com/imgextra/i3/1035339340/O1CN01e6wCqc2IrmErsQuYd_!!1035339340.jpg_320x320q80_.webp")},children:"\u91CD\u7F6E"}),(0,n.jsx)(Y.Z,{options:["mini","1_1","3_4"],onChange:function(_){te(_)}}),(0,n.jsx)(E.ImageCard,{menus:ie,value:P,onChange:function(_){m(_)},placeholder:O=="mini"?void 0:"\u4E0A\u4F20\u56FE\u7247",style:O=="1_1"?{width:90,height:90}:O=="3_4"?{width:90,height:120}:void 0,children:function(_){return(0,n.jsx)($.Z,{title:"\u9009\u62E9\u56FE\u7247",trigger:"click",arrow:!1,content:(0,n.jsxs)("div",{style:{width:"760px",height:"400px"},children:[(0,n.jsx)(E.ImageSpace,{ref:f,style:{display:Z?"none":""},actionsRender:function(t){return(0,n.jsxs)(C.Z,{gap:4,style:{width:"100%"},wrap:!0,children:[t,(0,n.jsxs)(J.Z.Compact,{children:[(0,n.jsx)(S.default,{style:{width:"100px"},popupMatchSelectWidth:!1,value:h.type,options:[{label:"\u56FE\u7247",value:"picture"},{label:"\u540D\u79F0",value:"name"},{label:"\u5B9D\u8D1DID",value:"id"}],onChange:function(a){b(function(i){return r()(r()({},i),{},{type:a})})}}),(0,n.jsx)(X.Z,{allowClear:!0,style:{width:"120px"},suffix:(0,n.jsx)(q.Z,{}),placeholder:"\u641C\u7D22",value:h.value,onChange:function(a){b(function(i){return r()(r()({},i),{},{value:a.target.value})})},onKeyDown:function(a){a.key==="Enter"&&z()}})]}),",",(0,n.jsx)(S.default,{options:[{label:"\u6587\u4EF6\u540D\u5347\u5E8F",value:"nameAsc"},{label:"\u6587\u4EF6\u540D\u964D\u5E8F",value:"nameDes"},{label:"\u4E0A\u4F20\u65F6\u95F4\u5347\u5E8F",value:"timeAsc"},{label:"\u4E0A\u4F20\u65F6\u95F4\u964D\u5E8F",value:"timeDes"}],value:h.order,onChange:function(a){b(function(i){return r()(r()({},i),{},{order:a})}),setTimeout(function(){z()},500)},style:{width:"128px"}}),(0,n.jsx)(C.Z,{gap:4,flex:1,justify:"flex-end",children:(0,n.jsx)(D.ZP,{onClick:function(){p(!0)},children:"\u4E0A\u4F20"})})]})},folderLoading:L,defaultFolder:I,folders:M||[],fetchData:function(t){var l=r()(r()({},t),h),a=l.page,i=l.size;return new Promise(function(de,me){setTimeout(function(){var ce=T.slice((a-1)*i,a*i).map(function(k){return r()(r()({},k),{},{id:k.id+"_"+a})});de({items:ce,total:T.length})},1e3)})},mutiple:!1,onChange:function(t){var l=t.files;if((l==null?void 0:l.length)>0){var a;v(!1),m((a=l[0])===null||a===void 0?void 0:a.fullUrl)}}}),(0,n.jsx)(E.ImageUploader,{style:{display:Z?"":"none"},configRender:function(t){return(0,n.jsxs)(C.Z,{style:{width:"100%"},align:"center",justify:"space-between",children:[t,(0,n.jsx)(D.ZP,{onClick:function(){p(!1)},children:"\u53D6\u6D88\u4E0A\u4F20"})]})},folderLoading:L,defaultFolder:I,folders:M,upload:{action:"http://localhost:49007/api/services/app/ProductPublish/UploadImages",normalize:{uploadResponse:function(t){var l=t.Error,a=t.Result||{},i=r()(r()({},a),{},{error:l});return i}}},onUploaDone:function(){setTimeout(function(){p(!1)},1e3)}})]}),open:y,destroyTooltipOnHide:!1,onOpenChange:function(t,l){(!P||P&&!t)&&(v==null||v(t))},children:_})}})]})}}}]);
